const db = require('./database');
const bcrypt = require('bcrypt');

async function seedDatabase() {
    console.log('üå± –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏...');
    
    try {
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
        const dbInitialized = await db.initializeDatabase();
        if (!dbInitialized) {
            console.error('‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö');
            process.exit(1);
        }
        
        console.log('‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
        
        // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
        console.log('üë• –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...');
        
        const adminPassword = await bcrypt.hash('admin123', 10);
        const userPassword = await bcrypt.hash('user123', 10);
        
        // –°–æ–∑–¥–∞–µ–º –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
        const adminResult = await db.createUser({
            username: 'admin',
            password: adminPassword,
            fullName: '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä',
            email: 'admin@example.com',
            role: 'admin'
        });
        
        if (adminResult.success) {
            console.log('‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω (ID: ' + adminResult.userId + ')');
        }
        
        // –°–æ–∑–¥–∞–µ–º –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        const userResult = await db.createUser({
            username: 'user',
            password: userPassword,
            fullName: '–¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å',
            email: 'user@example.com',
            role: 'user'
        });
        
        if (userResult.success) {
            console.log('‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω (ID: ' + userResult.userId + ')');
        }
        
        // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã
        console.log('üì¶ –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–æ–¥—É–∫—Ç—ã...');
        
        const products = [
            {
                name: '–ù–æ—É—Ç–±—É–∫ Dell XPS 13',
                description: '–ú–æ—â–Ω—ã–π –Ω–æ—É—Ç–±—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã –∏ —Ç–≤–æ—Ä—á–µ—Å—Ç–≤–∞ —Å –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–º Intel i7',
                price: 89999.00,
                points: 150,
                image: 'https://via.placeholder.com/200x200/667eea/ffffff?text=–ù–æ—É—Ç–±—É–∫'
            },
            {
                name: 'iPhone 15 Pro',
                description: '–°–º–∞—Ä—Ç—Ñ–æ–Ω –ø—Ä–µ–º–∏—É–º –∫–ª–∞—Å—Å–∞ —Å –∫–∞–º–µ—Ä–æ–π 48 –ú–ü',
                price: 129999.00,
                points: 200,
                image: 'https://via.placeholder.com/200x200/764ba2/ffffff?text=iPhone'
            },
            {
                name: 'AirPods Pro',
                description: '–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏ —Å –∞–∫—Ç–∏–≤–Ω—ã–º —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º',
                price: 24999.00,
                points: 50,
                image: 'https://via.placeholder.com/200x200/4CAF50/ffffff?text=–ù–∞—É—à–Ω–∏–∫–∏'
            },
            {
                name: 'iPad Pro 12.9"',
                description: '–ú–æ—â–Ω—ã–π –ø–ª–∞–Ω—à–µ—Ç –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ —Å –¥–∏—Å–ø–ª–µ–µ–º Liquid Retina XDR',
                price: 149999.00,
                points: 250,
                image: 'https://via.placeholder.com/200x200/FF6B6B/ffffff?text=–ü–ª–∞–Ω—à–µ—Ç'
            },
            {
                name: 'Apple Watch Series 9',
                description: '–£–º–Ω—ã–µ —á–∞—Å—ã —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∑–¥–æ—Ä–æ–≤—å—è –∏ —Ñ–∏—Ç–Ω–µ—Å–∞',
                price: 39999.00,
                points: 80,
                image: 'https://via.placeholder.com/200x200/FFC107/ffffff?text=–ß–∞—Å—ã'
            },
            {
                name: 'Sony A7 IV',
                description: '–ë–µ–∑–∑–µ—Ä–∫–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞ —Å –ø–æ–ª–Ω–æ–∫–∞–¥—Ä–æ–≤—ã–º —Å–µ–Ω—Å–æ—Ä–æ–º 33 –ú–ü',
                price: 199999.00,
                points: 300,
                image: 'https://via.placeholder.com/200x200/9C27B0/ffffff?text=–ö–∞–º–µ—Ä–∞'
            },
            {
                name: 'Logitech G Pro X',
                description: '–ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –¥–ª—è –≥–µ–π–º–µ—Ä–æ–≤ —Å RGB –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π',
                price: 12999.00,
                points: 25,
                image: 'https://via.placeholder.com/200x200/607D8B/ffffff?text=–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞'
            },
            {
                name: 'LG 27" 4K Monitor',
                description: '–ú–æ–Ω–∏—Ç–æ—Ä 4K —Å —Ç–æ—á–Ω–æ–π —Ü–≤–µ—Ç–æ–ø–µ—Ä–µ–¥–∞—á–µ–π –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤',
                price: 45999.00,
                points: 90,
                image: 'https://via.placeholder.com/200x200/795548/ffffff?text=–ú–æ–Ω–∏—Ç–æ—Ä'
            }
        ];
        
        for (const product of products) {
            const result = await db.createProduct(product);
            if (result.success) {
                console.log('‚úÖ –ü—Ä–æ–¥—É–∫—Ç "' + product.name + '" —Å–æ–∑–¥–∞–Ω (ID: ' + result.productId + ')');
            } else {
                console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞ "' + product.name + '":', result.error);
            }
        }
        
        // –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ç–∞—Ç—å–∏
        console.log('üì∞ –°–æ–∑–¥–∞–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ç–∞—Ç—å–∏...');
        
        const articles = [
            {
                title: '–ù–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –≤ 2024 –≥–æ–¥—É',
                content: '–û–±–∑–æ—Ä —Å–∞–º—ã—Ö –≤–∞–∂–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–µ–Ω–¥–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–µ–¥–µ–ª—è—Ç —Ä–∞–∑–≤–∏—Ç–∏–µ –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ –≤ 2024 –≥–æ–¥—É. –û—Ç –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ –¥–æ –∫–≤–∞–Ω—Ç–æ–≤—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π.',
                author: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–µ—Ä—Ç',
                image: 'https://via.placeholder.com/400x200/667eea/ffffff?text=–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏'
            },
            {
                title: '–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –Ω–æ—É—Ç–±—É–∫',
                content: '–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –≤—ã–±–æ—Ä—É –Ω–æ—É—Ç–±—É–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã, —É—á–µ–±—ã –∏ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–π. –†–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º –≤—Å–µ –≤–∞–∂–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∏ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞.',
                author: 'IT-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç',
                image: 'https://via.placeholder.com/400x200/764ba2/ffffff?text=–ù–æ—É—Ç–±—É–∫–∏'
            },
            {
                title: '–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –≤ —Ü–∏—Ñ—Ä–æ–≤–æ–º –º–∏—Ä–µ',
                content: '–°–æ–≤–µ—Ç—ã –ø–æ –∑–∞—â–∏—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —É–≥—Ä–æ–∑—ã –∏ –º–µ—Ç–æ–¥—ã –∑–∞—â–∏—Ç—ã.',
                author: '–°–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –∫–∏–±–µ—Ä–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏',
                image: 'https://via.placeholder.com/400x200/4CAF50/ffffff?text=–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å'
            },
            {
                title: '–ò—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç –≤ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏',
                content: '–ö–∞–∫ –ò–ò –º–µ–Ω—è–µ—Ç –Ω–∞—à—É –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—É—é –∂–∏–∑–Ω—å. –û—Ç –≥–æ–ª–æ—Å–æ–≤—ã—Ö –ø–æ–º–æ—â–Ω–∏–∫–æ–≤ –¥–æ —É–º–Ω—ã—Ö –¥–æ–º–æ–≤ –∏ –∞–≤—Ç–æ–Ω–æ–º–Ω—ã—Ö –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π.',
                author: 'AI-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å',
                image: 'https://via.placeholder.com/400x200/FF6B6B/ffffff?text=–ò–ò'
            },
            {
                title: '–ë—É–¥—É—â–µ–µ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤',
                content: '–ü—Ä–æ–≥–Ω–æ–∑—ã —Ä–∞–∑–≤–∏—Ç–∏—è –º–æ–±–∏–ª—å–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π. –ß—Ç–æ –Ω–∞—Å –∂–¥–µ—Ç –≤ –±–ª–∏–∂–∞–π—à–∏–µ –≥–æ–¥—ã –≤ –º–∏—Ä–µ —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤ –∏ –ø–ª–∞–Ω—à–µ—Ç–æ–≤.',
                author: '–ú–æ–±–∏–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏–∫',
                image: 'https://via.placeholder.com/400x200/FFC107/ffffff?text=–ú–æ–±–∏–ª—å–Ω—ã–µ'
            },
            {
                title: '–≠–∫–æ–ª–æ–≥–∏—á–Ω–æ—Å—Ç—å –≤ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è—Ö',
                content: '–ö–∞–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞–¥ —Å–Ω–∏–∂–µ–Ω–∏–µ–º —ç–∫–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è. –ó–µ–ª–µ–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ.',
                author: '–≠–∫–æ-—Ç–µ—Ö–Ω–æ–ª–æ–≥',
                image: 'https://via.placeholder.com/400x200/9C27B0/ffffff?text=–≠–∫–æ–ª–æ–≥–∏—è'
            },
            {
                title: '–ì–µ–π–º–∏–Ω–≥ –≤ 2024 –≥–æ–¥—É',
                content: '–û–±–∑–æ—Ä –∏–≥—Ä–æ–≤–æ–π –∏–Ω–¥—É—Å—Ç—Ä–∏–∏ –∏ –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –≤ –≥–µ–π–º–∏–Ω–≥–µ. VR, AR –∏ –æ–±–ª–∞—á–Ω—ã–µ –∏–≥—Ä—ã.',
                author: '–ì–µ–π–º-–∂—É—Ä–Ω–∞–ª–∏—Å—Ç',
                image: 'https://via.placeholder.com/400x200/607D8B/ffffff?text=–ì–µ–π–º–∏–Ω–≥'
            },
            {
                title: '–¶–∏—Ñ—Ä–æ–≤–∞—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å–∞',
                content: '–ö–∞–∫ –∫–æ–º–ø–∞–Ω–∏–∏ –∞–¥–∞–ø—Ç–∏—Ä—É—é—Ç—Å—è –∫ —Ü–∏—Ñ—Ä–æ–≤–æ–º—É –º–∏—Ä—É. –ö–µ–π—Å—ã —É—Å–ø–µ—à–Ω–æ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏.',
                author: '–ë–∏–∑–Ω–µ—Å-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç',
                image: 'https://via.placeholder.com/400x200/795548/ffffff?text=–ë–∏–∑–Ω–µ—Å'
            }
        ];
        
        for (const article of articles) {
            const result = await db.createArticle(article);
            if (result.success) {
                console.log('‚úÖ –°—Ç–∞—Ç—å—è "' + article.title + '" —Å–æ–∑–¥–∞–Ω–∞ (ID: ' + result.articleId + ')');
            } else {
                console.error('‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç–∞—Ç—å–∏ "' + article.title + '":', result.error);
            }
        }
        
        console.log('\nüéâ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —É—Å–ø–µ—à–Ω–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏!');
        console.log('\nüìã –î–∞–Ω–Ω—ã–µ –¥–ª—è –≤—Ö–æ–¥–∞:');
        console.log('üë§ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä:');
        console.log('   –õ–æ–≥–∏–Ω: admin');
        console.log('   –ü–∞—Ä–æ–ª—å: admin123');
        console.log('\nüë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:');
        console.log('   –õ–æ–≥–∏–Ω: user');
        console.log('   –ü–∞—Ä–æ–ª—å: user123');
        
    } catch (error) {
        console.error('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö:', error);
        process.exit(1);
    }
}

// –ó–∞–ø—É—Å–∫–∞–µ–º –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
seedDatabase(); 